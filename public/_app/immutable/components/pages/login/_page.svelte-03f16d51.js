import{S as Z,i as ee,s as te,k as c,q as D,a as I,l as p,m as v,r as U,h as d,c as P,n as o,p as se,b as Y,H as e,O as L,M as C,P as ae,f as T,t as F,d as le,N as re,w as ne,x as oe,y as ie,z as ue,g as ce}from"../../../chunks/index-9e047c9c.js";import{g as Q,s as pe,a as de}from"../../../chunks/index-c6def6da-debf43fb.js";import"../../../chunks/index.esm2017-ae7a34d8.js";import{O as fe,A as me,o as he}from"../../../chunks/index.esm2017-25db0622.js";import{A as _e}from"../../../chunks/alert-8c945642.js";function X(g){let t,s,f;return s=new _e({props:{msg:"Invalid Details please check the details entered for typos."}}),{c(){t=c("div"),ne(s.$$.fragment),this.h()},l(l){t=p(l,"DIV",{class:!0});var r=v(t);oe(s.$$.fragment,r),r.forEach(d),this.h()},h(){o(t,"class","mt-10")},m(l,r){Y(l,t,r),ie(s,t,null),f=!0},i(l){f||(T(s.$$.fragment,l),f=!0)},o(l){F(s.$$.fragment,l),f=!1},d(l){l&&d(t),ue(s)}}}function ve(g){let t,s,f,l,r,n,m,y,A,O,u,V,b,x,M,q,h,G,w,S,z,N,B,H,a=g[2]&&X();return{c(){t=c("main"),s=c("p"),f=D("Admin Login"),l=I(),r=c("div"),n=c("form"),m=c("div"),y=c("p"),A=D("Email"),O=I(),u=c("input"),V=I(),b=c("div"),x=c("p"),M=D("Password"),q=I(),h=c("input"),G=I(),w=c("button"),S=D("LOGIN"),z=I(),a&&a.c(),this.h()},l(i){t=p(i,"MAIN",{});var _=v(t);s=p(_,"P",{class:!0});var R=v(s);f=U(R,"Admin Login"),R.forEach(d),l=P(_),r=p(_,"DIV",{class:!0,style:!0});var W=v(r);n=p(W,"FORM",{});var E=v(n);m=p(E,"DIV",{class:!0});var k=v(m);y=p(k,"P",{class:!0});var j=v(y);A=U(j,"Email"),j.forEach(d),O=P(k),u=p(k,"INPUT",{type:!0,placeholder:!0,class:!0}),k.forEach(d),V=P(E),b=p(E,"DIV",{class:!0});var $=v(b);x=p($,"P",{class:!0});var J=v(x);M=U(J,"Password"),J.forEach(d),q=P($),h=p($,"INPUT",{type:!0,placeholder:!0,class:!0}),$.forEach(d),G=P(E),w=p(E,"BUTTON",{class:!0});var K=v(w);S=U(K,"LOGIN"),K.forEach(d),z=P(E),a&&a.l(E),E.forEach(d),W.forEach(d),_.forEach(d),this.h()},h(){o(s,"class","title text-center my-10 underline"),o(y,"class","text-xl font-semibold"),o(u,"type","email"),o(u,"placeholder","Email"),o(u,"class","py-4 text-lg border border-gray-200 w-full pl-3 my-2"),o(m,"class","my-4"),o(x,"class","text-xl font-semibold"),o(h,"type","password"),o(h,"placeholder","Password"),o(h,"class","py-4 text-lg border border-gray-200 w-full pl-3 my-2"),o(b,"class","my-4"),o(w,"class","flex btn btn-lg btn-success mx-auto mt-12"),o(r,"class","shadow-xl py-20 px-40 mx-20 mb-16"),se(r,"border","0.2px solid rgba(0,0,0,0.1)",1)},m(i,_){Y(i,t,_),e(t,s),e(s,f),e(t,l),e(t,r),e(r,n),e(n,m),e(m,y),e(y,A),e(m,O),e(m,u),L(u,g[0]),e(n,V),e(n,b),e(b,x),e(x,M),e(b,q),e(b,h),L(h,g[1]),e(n,G),e(n,w),e(w,S),e(n,z),a&&a.m(n,null),N=!0,B||(H=[C(u,"input",g[4]),C(h,"input",g[5]),C(w,"click",ae(g[3]))],B=!0)},p(i,[_]){_&1&&u.value!==i[0]&&L(u,i[0]),_&2&&h.value!==i[1]&&L(h,i[1]),i[2]?a?_&4&&T(a,1):(a=X(),a.c(),T(a,1),a.m(n,null)):a&&(ce(),F(a,1,1,()=>{a=null}),le())},i(i){N||(T(a),N=!0)},o(i){F(a),N=!1},d(i){i&&d(t),a&&a.d(),B=!1,re(H)}}}function ge(g,t,s){const f=Q();console.log(f.currentUser);let l,r,n=!1;const m=()=>{pe(f,l,r).then(O=>{fe(me(he(),"Users",O.user.uid)).then(u=>{u.exists()?location.replace("/admin"):(de(Q()),s(2,n=!0))})}).catch(()=>{s(2,n=!0)})};function y(){l=this.value,s(0,l)}function A(){r=this.value,s(1,r)}return[l,r,n,m,y,A]}class Ie extends Z{constructor(t){super(),ee(this,t,ge,ve,te,{})}}export{Ie as default};
