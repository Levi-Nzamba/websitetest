import{S as me,i as be,s as ge,k as v,l as w,m as P,h as u,b,f as J,d as ce,t as X,K as _e,q as L,r as S,H as E,B as z,a as D,c as B,n as m,g as pe,R as le,M as K,w as ve,x as we,p as ke,O as $,y as ye,P as Ne,z as Ee,N as Pe,J as Y}from"../../../../../../chunks/index-9e047c9c.js";import{K as ie,A as oe,o as se}from"../../../../../../chunks/index.esm2017-25db0622.js";import{r as Te,g as Ie,u as Ce,a as Ue}from"../../../../../../chunks/index.esm2017-4d311801.js";import{T as Oe}from"../../../../../../chunks/Tiptap-89c3abd4.js";function re(l,e,i){const t=l.slice();return t[19]=e[i],t[20]=e,t[21]=i,t}function ne(l,e,i){const t=l.slice();return t[5]=e[i],t}function ae(l){let e,i;return{c(){e=v("p"),i=L("No news to edit.")},l(t){e=w(t,"P",{});var o=P(e);i=S(o,"No news to edit."),o.forEach(u)},m(t,o){b(t,e,o),E(e,i)},p:z,d(t){t&&u(e)}}}function De(l){let e,i,t=l[19].title+"",o,p,a,n=l[19].description+"",f,s,_,d,A,T,k=l[19].image&&Me(l),C=l[19].category&&Le(l);function V(){return l[18](l[21])}return{c(){k&&k.c(),e=D(),i=v("p"),o=L(t),p=D(),a=v("p"),f=D(),C&&C.c(),s=D(),_=v("button"),d=L("Edit"),this.h()},l(c){k&&k.l(c),e=B(c),i=w(c,"P",{class:!0});var y=P(i);o=S(y,t),y.forEach(u),p=B(c),a=w(c,"P",{});var q=P(a);q.forEach(u),f=B(c),C&&C.l(c),s=B(c),_=w(c,"BUTTON",{class:!0});var O=P(_);d=S(O,"Edit"),O.forEach(u),this.h()},h(){m(i,"class","font-bold text-xl"),m(_,"class","btn !bg-slate-600 text-white mt-4 float-right border-0")},m(c,y){k&&k.m(c,y),b(c,e,y),b(c,i,y),E(i,o),b(c,p,y),b(c,a,y),a.innerHTML=n,b(c,f,y),C&&C.m(c,y),b(c,s,y),b(c,_,y),E(_,d),A||(T=K(_,"click",V),A=!0)},p(c,y){l=c,l[19].image&&k.p(l,y),l[19].category&&C.p(l,y)},i:z,o:z,d(c){k&&k.d(c),c&&u(e),c&&u(i),c&&u(p),c&&u(a),c&&u(f),C&&C.d(c),c&&u(s),c&&u(_),A=!1,T()}}}function Be(l){let e,i,t,o,p,a,n,f,s,_,d,A,T,k,C,V,c,y,q,O,j,h,R,Q;function F(r,g){return r[4]?Re:r[19].image?Ae:Se}let G=F(l),U=G(l);function Z(){l[14].call(o,l[21])}n=new Oe({props:{content:l[0][l[21]].description}});let H=l[7],N=[];for(let r=0;r<H.length;r+=1)N[r]=ue(ne(l,H,r));function he(){return l[16](l[21])}function de(){return l[17](l[21])}return{c(){U.c(),e=D(),i=v("input"),t=D(),o=v("input"),p=D(),a=v("div"),ve(n.$$.fragment),s=D(),_=v("div"),d=v("input"),A=D(),T=v("select"),k=v("option"),C=L("No Category");for(let r=0;r<N.length;r+=1)N[r].c();V=D(),c=v("button"),y=L("Publish Edited News Post"),q=D(),O=v("button"),j=L("Close Edit"),this.h()},l(r){U.l(r),e=B(r),i=w(r,"INPUT",{type:!0}),t=B(r),o=w(r,"INPUT",{placeholder:!0,class:!0}),p=B(r),a=w(r,"DIV",{id:!0});var g=P(a);we(n.$$.fragment,g),g.forEach(u),s=B(r),_=w(r,"DIV",{class:!0});var M=P(_);d=w(M,"INPUT",{placeholder:!0,class:!0}),A=B(M),T=w(M,"SELECT",{class:!0,"aria-label":!0,style:!0});var I=P(T);k=w(I,"OPTION",{});var W=P(k);C=S(W,"No Category"),W.forEach(u);for(let x=0;x<N.length;x+=1)N[x].l(I);I.forEach(u),M.forEach(u),V=B(r),c=w(r,"BUTTON",{class:!0});var ee=P(c);y=S(ee,"Publish Edited News Post"),ee.forEach(u),q=B(r),O=w(r,"BUTTON",{class:!0});var te=P(O);j=S(te,"Close Edit"),te.forEach(u),this.h()},h(){m(i,"type","file"),m(o,"placeholder","Edit Title"),m(o,"class","w-full border border-gray-500 rounded-md py-3 px-2 my-4"),m(a,"id",f=l[0][l[21]].id),m(d,"placeholder","New News Category"),m(d,"class","w-1/2 border border-gray-500 rounded-md py-3 px-2 my-4 mr-3"),k.selected=!0,k.__value="No Category",k.value=k.__value,m(T,"class","form-select w-1/2 py-3 my-auto ml-3"),m(T,"aria-label","Default select example"),ke(T,"height","fit-content"),m(_,"class","flex"),m(c,"class","btn !bg-green-600 text-white mt-4 mx-2 float-right border-0"),m(O,"class","btn !bg-red-600 text-white mt-4 mx-2 float-right border-0")},m(r,g){U.m(r,g),b(r,e,g),b(r,i,g),l[13](i),b(r,t,g),b(r,o,g),$(o,l[0][l[21]].title),b(r,p,g),b(r,a,g),ye(n,a,null),b(r,s,g),b(r,_,g),E(_,d),$(d,l[5]),E(_,A),E(_,T),E(T,k),E(k,C);for(let M=0;M<N.length;M+=1)N[M].m(T,null);b(r,V,g),b(r,c,g),E(c,y),b(r,q,g),b(r,O,g),E(O,j),h=!0,R||(Q=[K(i,"change",l[9]),K(o,"input",Z),K(d,"input",l[15]),K(T,"change",l[8]),K(c,"click",Ne(he)),K(O,"click",de)],R=!0)},p(r,g){l=r,G===(G=F(l))&&U?U.p(l,g):(U.d(1),U=G(l),U&&(U.c(),U.m(e.parentNode,e))),g&1&&o.value!==l[0][l[21]].title&&$(o,l[0][l[21]].title);const M={};if(g&1&&(M.content=l[0][l[21]].description),n.$set(M),(!h||g&1&&f!==(f=l[0][l[21]].id))&&m(a,"id",f),g&32&&d.value!==l[5]&&$(d,l[5]),g&128){H=l[7];let I;for(I=0;I<H.length;I+=1){const W=ne(l,H,I);N[I]?N[I].p(W,g):(N[I]=ue(W),N[I].c(),N[I].m(T,null))}for(;I<N.length;I+=1)N[I].d(1);N.length=H.length}},i(r){h||(J(n.$$.fragment,r),h=!0)},o(r){X(n.$$.fragment,r),h=!1},d(r){U.d(r),r&&u(e),r&&u(i),l[13](null),r&&u(t),r&&u(o),r&&u(p),r&&u(a),Ee(n),r&&u(s),r&&u(_),_e(N,r),r&&u(V),r&&u(c),r&&u(q),r&&u(O),R=!1,Pe(Q)}}}function Me(l){let e,i;return{c(){e=v("img"),this.h()},l(t){e=w(t,"IMG",{src:!0,alt:!0,width:!0}),this.h()},h(){Y(e.src,i=l[0][l[21]].image)||m(e,"src",i),m(e,"alt","News"),m(e,"width","250")},m(t,o){b(t,e,o)},p(t,o){o&1&&!Y(e.src,i=t[0][t[21]].image)&&m(e,"src",i)},d(t){t&&u(e)}}}function Le(l){let e,i,t,o,p,a=l[19].category+"",n;return{c(){e=v("div"),i=v("p"),t=L("Category"),o=D(),p=v("p"),n=L(a),this.h()},l(f){e=w(f,"DIV",{class:!0});var s=P(e);i=w(s,"P",{class:!0});var _=P(i);t=S(_,"Category"),_.forEach(u),o=B(s),p=w(s,"P",{class:!0});var d=P(p);n=S(d,a),d.forEach(u),s.forEach(u),this.h()},h(){m(i,"class","text-xl font-semibold"),m(p,"class","my-2"),m(e,"class","mt-10")},m(f,s){b(f,e,s),E(e,i),E(i,t),E(e,o),E(e,p),E(p,n)},p:z,d(f){f&&u(e)}}}function Se(l){let e,i;return{c(){e=v("p"),i=L("No image to show.")},l(t){e=w(t,"P",{});var o=P(e);i=S(o,"No image to show."),o.forEach(u)},m(t,o){b(t,e,o),E(e,i)},p:z,d(t){t&&u(e)}}}function Ae(l){let e,i;return{c(){e=v("img"),this.h()},l(t){e=w(t,"IMG",{src:!0,alt:!0,width:!0}),this.h()},h(){Y(e.src,i=l[0][l[21]].image)||m(e,"src",i),m(e,"alt","News"),m(e,"width","250")},m(t,o){b(t,e,o)},p(t,o){o&1&&!Y(e.src,i=t[0][t[21]].image)&&m(e,"src",i)},d(t){t&&u(e)}}}function Re(l){let e,i;return{c(){e=v("img"),this.h()},l(t){e=w(t,"IMG",{src:!0,alt:!0,width:!0}),this.h()},h(){Y(e.src,i="")||m(e,"src",i),m(e,"alt","Preview"),m(e,"width","250")},m(t,o){b(t,e,o),l[12](e)},p:z,d(t){t&&u(e),l[12](null)}}}function ue(l){let e,i=l[5]+"",t;return{c(){e=v("option"),t=L(i),this.h()},l(o){e=w(o,"OPTION",{});var p=P(e);t=S(p,i),p.forEach(u),this.h()},h(){e.__value=l[21]+1,e.value=e.__value},m(o,p){b(o,e,p),E(e,t)},p:z,d(o){o&&u(e)}}}function fe(l){let e,i,t,o,p;const a=[Be,De],n=[];function f(s,_){return s[1][s[21]]?0:1}return i=f(l),t=n[i]=a[i](l),{c(){e=v("div"),t.c(),o=D(),this.h()},l(s){e=w(s,"DIV",{class:!0});var _=P(e);t.l(_),o=B(_),_.forEach(u),this.h()},h(){m(e,"class","bg-gray-100 px-4 py-24 my-2 roundedlg border border-gray-200")},m(s,_){b(s,e,_),n[i].m(e,null),E(e,o),p=!0},p(s,_){let d=i;i=f(s),i===d?n[i].p(s,_):(pe(),X(n[d],1,1,()=>{n[d]=null}),ce(),t=n[i],t?t.p(s,_):(t=n[i]=a[i](s),t.c()),J(t,1),t.m(e,o))},i(s){p||(J(t),p=!0)},o(s){X(t),p=!1},d(s){s&&u(e),n[i].d()}}}function Ve(l){let e,i,t=l[6],o=[];for(let n=0;n<t.length;n+=1)o[n]=fe(re(l,t,n));const p=n=>X(o[n],1,1,()=>{o[n]=null});let a=null;return t.length||(a=ae()),{c(){e=v("main");for(let n=0;n<o.length;n+=1)o[n].c();a&&a.c()},l(n){e=w(n,"MAIN",{});var f=P(e);for(let s=0;s<o.length;s+=1)o[s].l(f);a&&a.l(f),f.forEach(u)},m(n,f){b(n,e,f);for(let s=0;s<o.length;s+=1)o[s].m(e,null);a&&a.m(e,null),i=!0},p(n,[f]){if(f&2047){t=n[6];let s;for(s=0;s<t.length;s+=1){const _=re(n,t,s);o[s]?(o[s].p(_,f),J(o[s],1)):(o[s]=fe(_),o[s].c(),J(o[s],1),o[s].m(e,null))}for(pe(),s=t.length;s<o.length;s+=1)p(s);ce(),!t.length&&a?a.p(n,f):t.length?a&&(a.d(1),a=null):(a=ae(),a.c(),a.m(e,null))}},i(n){if(!i){for(let f=0;f<t.length;f+=1)J(o[f]);i=!0}},o(n){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)X(o[f]);i=!1},d(n){n&&u(e),_e(o,n),a&&a.d()}}}function qe(l,e,i){let{data:t}=e;const o=t.news;let p=t.news,a=t.editable;const{categories:n}=t;console.log(t),console.log(a);let f,s,_=!1,d=null;function A(h){h.target.selectedOptions[0].text==="No category"?i(5,d=null):i(5,d=h.target.selectedOptions[0].text)}function T(){const h=f.files[0];if(h){i(4,_=!0);const R=new FileReader;R.addEventListener("load",function(){s.setAttribute("src",R.result)}),R.readAsDataURL(h);return}i(4,_=!1),console.log(_)}const k=(h,R,Q)=>{var G,U;console.log(d);const F=(U=(G=document.getElementById(h))==null?void 0:G.children[1].children[0].innerHTML)==null?void 0:U.toString();if(console.log(F),console.log(R),_){console.log("dfdf");const Z=Te(Ie(),"newsIcons/"+f.files[0].name);Ce(Z,f.files[0]).then(H=>{console.log("Uploaded a blob or file!"),Ue(Z).then(N=>{ie(oe(se(),"News",h),{image:N,title:Q,description:F,category:d}).then(()=>{alert("Document Updated"),location.reload()})})})}else ie(oe(se(),"News",h),{title:Q,description:F,category:d}).then(()=>{alert("Document Updated"),location.reload()})};function C(h){le[h?"unshift":"push"](()=>{s=h,i(3,s)})}function V(h){le[h?"unshift":"push"](()=>{f=h,i(2,f)})}function c(h){p[h].title=this.value,i(0,p)}function y(){d=this.value,i(5,d)}const q=h=>{k(p[h].id,p[h].image,p[h].title)},O=h=>{i(1,a[h]=!1,a)},j=h=>{i(1,a[h]=!0,a)};return l.$$set=h=>{"data"in h&&i(11,t=h.data)},[p,a,f,s,_,d,o,n,A,T,k,t,C,V,c,y,q,O,j]}class Fe extends me{constructor(e){super(),be(this,e,qe,Ve,ge,{data:11})}}export{Fe as default};
